<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beach Club - Lista de Compra</title>
  <link rel="icon" href="assets/logo.png">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/lista-compra.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Pacifico&display=swap"
    rel="stylesheet">
  <script src="js/auth.js"></script>
</head>

<body class="shopping-list-page" style="display: none;">
  <!-- Header inyectado dinÃ¡micamente por header.js -->

  <main class="shopping-main">
    <div class="shopping-container">
      <h1>ğŸ›’ Lista de Compras - Beach Club</h1>

      <div class="layout">
        <section class="column">
          <h2>ğŸ§º Ingredientes</h2>
          <div id="ingredients"></div>
        </section>

        <section class="column">
          <h2>ğŸ¹ Packs de Productos</h2>
          <div id="packs"></div>
        </section>

        <section class="column">
          <h2>ğŸ§¾ Lista de Compra</h2>
          <div id="cart" class="cart">AÃ±ade ingredientes o packs para generar la lista...</div>
          <div id="total" class="total">Total: 0â‚¬</div>
          <div class="buttons">
            <button onclick="generateCode()">ğŸ”— Generar CÃ³digo</button>
            <button onclick="openLoadDialog()">ğŸ›œ Cargar Lista</button>
            <button onclick="resetCart()">ğŸ”„ Reset</button>
          </div>
        </section>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; <span id="current-year"></span> Beach Club. Todos los derechos reservados.</p>
  </footer>

  <div id="notification" class="notification"></div>

  <!-- DiÃ¡logo para cargar cÃ³digo -->
  <div id="loadDialog" class="dialog-overlay">
    <div class="dialog">
      <h2>ğŸ“¥ Cargar Lista desde CÃ³digo</h2>
      <p>Pega el cÃ³digo que te han compartido:</p>
      <textarea id="codeInput" placeholder="Pega el cÃ³digo aquÃ­..."></textarea>
      <div class="dialog-buttons">
        <button onclick="loadFromCode()" class="primary-btn">âœ… Cargar</button>
        <button onclick="closeLoadDialog()" class="secondary-btn">âŒ Cancelar</button>
      </div>
    </div>
  </div>

  <script src="js/header.js"></script>
  <script src="js/lista-compra.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Update auth button on page load
    window.addEventListener('DOMContentLoaded', function () {
      const authButton = document.getElementById('auth-button');
      const isAuth = localStorage.getItem('beachclub_auth') === 'true';
      if (isAuth && authButton) {
        authButton.textContent = 'ğŸ”“ Cerrar SesiÃ³n';
        authButton.onclick = function (e) {
          e.preventDefault();
          logout();
        };
      }
    });
  </script>
</body>

</html>